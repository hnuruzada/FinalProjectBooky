@model HomeVM
@using FinalProjectBooky.ViewModels
@{
    ViewData["Title"] = "Home Page";
}
@if (TempData["Succeeded"] != null)
{
    <input type="hidden" id="toastrJs" data-succeed="@TempData["Succeeded"]" />
}

@if (TempData["Verify"] != null)
{
    <input type="hidden" id="verifyJS" />
}


@if (TempData["Verified"] != null)
{
    <input type="hidden" id="verifiedJS" />
}
<section class="home" id="home" style="background: url(/Assets/images/banner-bg.jpg) no-repeat;">

            <div class="row">

                <div class="content">
                    <h3>upto 75% off</h3>
                    <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Magnam deserunt nostrum accusamus. Nam
                        alias sit necessitatibus, aliquid ex minima at!</p>
                    <a href="#" class="btn">shop now</a>
                </div>

                <div class="swiper books-slider">
                    <div class="swiper-wrapper">
                        @await Html.PartialAsync("_HeaderBookPartialView",Model.Books)
                    </div>
                    <img src="~/Assets/images/stand.png" class="stand" alt="">
                </div>

            </div>

        </section>
        <section class="icons-container">

           @await Html.PartialAsync("_IconContainerPartialView",Model.IconContainers)

        </section>
        <section class="bestSellers">
            <div class="bestSeller-Title">
                <h1 class="heading"> <span>best sellers</span> </h1>
            </div>
            <div class="owl-carousel owl-theme carusel">
                @await Html.PartialAsync("_BestSellerBookPartialView",Model.Books)
            </div>
        </section>
        <section class="newsletter" style="background:url(/Assets/images/letter-bg.jpg) no-repeat;">
            <div asp-validation-summary="ModelOnly"></div>
            <form method="post" asp-controller="home" asp-action="index">
                <h3>subscribe for latest updates</h3>
                <input asp-for="@Model.SubscribeVM.Email" placeholder="enter your email" id="" class="box">
                
                <input type="submit" value="subscribe" class="btn">
            </form>
        
        </section>
        <section class="new-book">
            <div class="container">
                <div class="section-title">
                    <h1 class="heading"> <span>new books</span> </h1>
                </div>
                <div class="component">

                    <ul class="align">
                     @await Html.PartialAsync("_NewBookPartialView",Model.Books) 
                    </ul>

                </div>
            </div>
        </section>
        <section class="our-blogs" id="blogs">

            <div class="blog-title">
                <h1 class="heading"> <span>our blogs</span> </h1>
            </div>
        
            <div class="swiper blogs-slider">
        
                <div class="swiper-wrapper">
        
                  @await Html.PartialAsync("_BlogIndexPartialView",Model.Blogs) 
        
                </div>
        
            </div>
        
        </section>

       @section Scripts{
             <script>
        $(document).ready(function () {
            if ($("#toastrJs").length) {
                if ($("#toastrJs").attr("data-succeeded").toLowerCase() == "true") {
                    Command: toastr["success"]("Your order has been succesfully created")
                    toastr.options = {
                        "closeButton": false,
                        "debug": false,
                        "newestOnTop": false,
                        "progressBar": false,
                        "positionClass": "toast-top-right",
                        "preventDuplicates": false,
                        "onclick": null,
                        "showDuration": "300",
                        "hideDuration": "000",
                        "timeOut": "10000",
                        "extendedTimeOut": "10000",
                        "showEasing": "swing",
                        "hideEasing": "linear",
                        "showMethod": "fadeIn",
                        "hideMethod": "fadeOut"
                    }
                } else {
                    Command: toastr["error"]("Basket is empty")
                    toastr.options = {
                        "closeButton": false,
                        "debug": false,
                        "newestOnTop": false,
                        "progressBar": false,
                        "positionClass": "toast-top-right",
                        "preventDuplicates": false,
                        "onclick": null,
                        "showDuration": "300",
                        "hideDuration": "10000",
                        "timeOut": "10000",
                        "extendedTimeOut": "10000",
                        "showEasing": "swing",
                        "hideEasing": "linear",
                        "showMethod": "fadeIn",
                        "hideMethod": "fadeOut"
                    }
                }
            }
            if ($("#verifyJS").length) {
                Command: toastr["success"]("Please verify your email")
                toastr.options = {
                    "closeButton": false,
                    "debug": false,
                    "newestOnTop": false,
                    "progressBar": false,
                    "positionClass": "toast-top-right",
                    "preventDuplicates": false,
                    "onclick": null,
                    "showDuration": "300",
                    "hideDuration": "10000",
                    "timeOut": "10000",
                    "extendedTimeOut": "10000",
                    "showEasing": "swing",
                    "hideEasing": "linear",
                    "showMethod": "fadeIn",
                    "hideMethod": "fadeOut"
                }
            }
            if ($("#verifiedJS").length) {
                Command: toastr["success"]("Your email has been verified")
                toastr.options = {
                    "closeButton": false,
                    "debug": false,
                    "newestOnTop": false,
                    "progressBar": false,
                    "positionClass": "toast-top-right",
                    "preventDuplicates": false,
                    "onclick": null,
                    "showDuration": "300",
                    "hideDuration": "10000",
                    "timeOut": "10000",
                    "extendedTimeOut": "10000",
                    "showEasing": "swing",
                    "hideEasing": "linear",
                    "showMethod": "fadeIn",
                    "hideMethod": "fadeOut"
                }
            }
        })
    </script>
        }